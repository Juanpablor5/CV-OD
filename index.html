<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>C.V & O.D</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.15.0/css/mdb.min.css" rel="stylesheet">
    <script src="https://d3js.org/d3.v5.min.js"></script> 
    <link rel="stylesheet" href="./assets/styles.css">
    <link href="./assets/styles.css" rel="stylesheet" />
</head>
<body>

  <div class="jumbotron text-center" style="background-image: url('./assets/gobierno.jpg'); min-height: 230px; background-attachment: fixed; background-repeat: no-repeat; background-size: cover; background-size: 1400px 600px;"> 
  </div>

<div id="band" class="container" style="max-height: 100px;">
  <h1>Representación Ciudadana</h1>
  <p><em>Congreso vs Ciudadania</em></p>
  <p>Que tanto la actividad del congreso refleja el interés de los ciudadanos Colombianos, esta herramienta busca dar respuestas a posibles análisis sobre la representación ciudadana en varias dimensiones sociales con Visual Analytics. </p>
  <br>
</div>

  <div class="container"> 
    <div class="row" style="padding-top: -10px;">
      <div class="col-lg-7">
          
        <div id = 'vis' style="width: fit-content;"></div>
        <script src="js/bubbles.js"></script>
      </div>
      <div class="col-lg-5" style="padding-top: 50px; padding-right: 50px; align-self: center;">
        <div id="band" class="container">
          <h3>Proyectos de Ley</h3>
          <p><em>Congreso de la República</em></p>
          <p>En Colombia, desde Agosto del 2006, durante 3 peridodos, en el Congreso de la República, se han expedido 271 proyectos de ley que buscan cambiar y estructurar la sociedad</p>
          <br>
        </div>
      </div>
    </div>
  </div>

  
  
  <div class="row" style="align-self: center; padding-left: 40px; padding-right: 40px;">
    <div class="col-md-12" >
        <select id="etiquetas" multiple class="font">
          <script>
            setTimeout(() => {
              let cadena = "";
              let object;

              fetch("./data/Etiquetas.json")
                .then((resp) => resp.json())
                .then((data) => {
                  cadena += "[";
                  for (let i = 0; i < data.etiquetas.length; i++) {
                    cadena +=
                      '{"text": ' + '"' + data.etiquetas[i].nombre + '"}';
                    if (i < data.etiquetas.length - 1) {
                      cadena += ",";
                    }
                  }
                  cadena += "]";
                  object = JSON.parse(cadena);

                  var select = new SlimSelect({
                    select: "#etiquetas",
                    placeholder: "Categorías",
                    searchPlaceholder: "Buscar categoría",
                    showSearch: true, // shows search field,
                    searchingText: "Buscando...",
                    searchText: "No se encotnró la categoría",
                    closeOnSelect: false,
                    data: object,
                  });
                });
            }, 300);
          </script>
        </select>
        <div class="btn" onclick="search()">Buscar</div>

        <!-- Aquí llegan los datos de las etiquetas seleccionadas -->

        <script>
          function search(){
            let obj = Array.from(etiquetas.selectedOptions).map(option => option.value)   
            let html = document.getElementById("datos")
            for (let i = 0; i < obj.length; i++) {                
              html.innerHTML += `
                <div>${obj[i]}</div>
              `;
            }
          }
        </script>
      <script src="./js/slimselect.js"></script>
      
    </div>
  </div>

  <div class="container">
    <div class="row">
        <script src="https://d3js.org/d3.v3.min.js"></script>
        <div  class="col-lg-6" style="align-self: center; text-align: right;">
          <div id="band" class="container">
            <h3>Comportamiento de los congresistas</h3>
            <p><em>Congreso de la República</em></p>
            <p>los congresistas pueden votar frente a un proyecto de ley, con votos: Si, No o se Abstiene, el comportamiento de los congresistas revela algunos puntos importantes. Asimismo, el numero de inasistencias y abstenciones son un factor de representación.</p>
            <br>
          </div>
          <select class="selectpicker" data-width="100%" multiple>
            <option>Mustard</option>
            <option>Ketchup</option>
            <option>Relish</option>
          </select>
        </div>
        
        <div class="col-sm-6">
          <div class="panel panel-default" style="margin:50px auto;">
              <div id = "svgContent" >
          </div>
        </div>
    </div>
  </div>
  <script src="js/flower.js"></script>

  <div class="container">
    <div class="row">    
        <div class="col-lg-12">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 style="padding-left: 60px; padding-right: 90px; font-weight:100; text-align: center;">Votos por proyectos de ley de partidos políticos</h3> 
            </div>
            <div class="panel-body">
              <div id='dashboard'>
              </div>
            </div>
          </div>
        </div>
        <script src="js/piechart.js"></script>  
        <script>
        var freqData=[
        {State:'CD',freq:{Si:100, No:12, Abstencion:29}}
        ,{State:'PC',freq:{Si:101, No:12, Abstencion:74}}
        ,{State:'CT',freq:{Si:132, No:49, Abstencion:41}}
        ,{State:'DE',freq:{Si:132, No:52, Abstencion:62}}
        ,{State:'FL',freq:{Si:181, No:4, Abstencion:48}}
        ,{State:'GA',freq:{Si:119, No:67, Abstencion:63}}
        ,{State:'IA',freq:{Si:119, No:47, Abstencion:12}}
        ,{State:'IL',freq:{Si:198, No:52, Abstencion:92}}
        ,{State:'IN',freq:{Si:197, No:49, Abstencion:34}}
        ,{State:'KS',freq:{Si:162, No:79, Abstencion:41}}
        ];
        
        dashboard('#dashboard',freqData);
        </script>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 style="padding-left: 60px; padding-right: 90px; font-weight:100; text-align: center;">Temas importantes para el Ciudadano</h3> 
          </div>
          <div class="panel-body">
            <div id="chart"></div>
          </div>
        </div>
        <script src="js/dotchart.js"></script>
      </div>
    </div>
  </div>

  <script src="https://d3js.org/d3.v5.min.js"></script>

</body>

<script src="js/count.js"></script>


<footer class="container-fluid2 bg-4 text-center" style="background-image: url(https://mdbootstrap.com/img/Photos/Others/gradient1.jpg);">
  <p>Ingeniería de Sistemas y Computación, Universidad de los Andes</a></p> 
</footer>

</html>